-- MySQL Script generated by MySQL Workbench
-- Sat Sep 28 14:27:17 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema SysAutos
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema SysAutos
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `SysAutos` DEFAULT CHARACTER SET utf8 ;
-- -----------------------------------------------------
-- Schema new_schema1
-- -----------------------------------------------------
USE `SysAutos` ;

-- -----------------------------------------------------
-- Table `SysAutos`.`tb_ciudad`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_ciudad` (
  `idCiudad` INT NOT NULL AUTO_INCREMENT,
  `cod_ciudad` VARCHAR(20) NOT NULL,
  `nom_ciudad` VARCHAR(100) NOT NULL,
  `estado_ciudad` VARCHAR(10) NOT NULL,
  `fec_act` DATETIME NOT NULL,
  `obs_ciudad` VARCHAR(255) NULL,
  PRIMARY KEY (`idCiudad`)) AUTO_INCREMENT=30001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tb_cliente`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_cliente` (
  `id_cliente` INT NOT NULL AUTO_INCREMENT,
  `tip_doc_cliente` VARCHAR(100) NOT NULL,
  `num_doc_cliente` VARCHAR(30) NOT NULL,
  `nom_cliente` VARCHAR(50) NOT NULL,
  `ape_cliente` VARCHAR(50) NOT NULL,
  `sexo_cliente` VARCHAR(50) NOT NULL,
  `direc_cliente` VARCHAR(100) NULL,
  `tel_cliente` VARCHAR(30) NOT NULL,
  `email_cliente` VARCHAR(255) NOT NULL,
  `estado_cliente` VARCHAR(10) NOT NULL,
  `fec_nac_cliente` DATETIME NOT NULL,
  `ciudad_cliente` INT NOT NULL,
  `obs_cliente` VARCHAR(255) NULL,
  INDEX `fk_cliente_ciudad_idx` (`ciudad_cliente` ASC),
  PRIMARY KEY (`id_cliente`),
  CONSTRAINT `fk_cliente_ciudad`
    FOREIGN KEY (`ciudad_cliente`)
    REFERENCES `SysAutos`.`tb_ciudad` (`idCiudad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION) AUTO_INCREMENT=50001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tb_marca`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_marca` (
  `idMarca` INT NOT NULL AUTO_INCREMENT,
  `cod_marca` VARCHAR(20) NOT NULL,
  `nom_marca` VARCHAR(100) NOT NULL,
  `estado_marca` VARCHAR(10) NOT NULL,
  `fec_act` DATETIME NOT NULL,
  `obs_marca` VARCHAR(255) NULL,
  PRIMARY KEY (`idMarca`)) AUTO_INCREMENT=10001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tb_color`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_color` (
  `idColor` INT NOT NULL AUTO_INCREMENT,
  `cod_color` VARCHAR(20) NOT NULL,
  `nom_color` VARCHAR(100) NOT NULL,
  `estado_color` VARCHAR(10) NOT NULL,
  `fec_act` DATETIME NOT NULL,
  `obs_color` VARCHAR(255) NULL,
  PRIMARY KEY (`idColor`)) AUTO_INCREMENT=20001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tb_tipo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_tipo` (
  `idTipo` INT NOT NULL AUTO_INCREMENT,
  `cod_tipo` VARCHAR(20) NOT NULL,
  `nom_tipo` VARCHAR(100) NOT NULL,
  `estado_tipo` VARCHAR(10) NOT NULL,
  `fec_act` DATETIME NOT NULL,
  `obs_tipo` VARCHAR(255) NULL,
  PRIMARY KEY (`idTipo`)) AUTO_INCREMENT=40001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tb_vehiculo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_vehiculo` (
  `cod_vehiculo` INT NOT NULL AUTO_INCREMENT,
  `placa_vehiculo` VARCHAR(15) NOT NULL,
  `ciudad_vehiculo` INT NOT NULL,
  `marca_vehiculo` INT NOT NULL,
  `tipo_vehiculo` INT NOT NULL,
  `color_vehiculo` INT NOT NULL,
  `modelo_vehiculo` VARCHAR(10) NOT NULL,
  `num_motor` VARCHAR(20) NOT NULL,
  `estado_vehiculo` VARCHAR(10) NOT NULL,
  `fec_act` DATETIME NOT NULL,
  `obs_vehiculo` VARCHAR(255) NULL,
  `cliente` INT NOT NULL,
  INDEX `fk_vehiculo_ciudad_idx` (`ciudad_vehiculo` ASC),
  INDEX `fk_vehiculo_marca_idx` (`marca_vehiculo` ASC),
  INDEX `fk_vehiculo_color_idx` (`color_vehiculo` ASC),
  INDEX `fk_vehiculo_tipo_idx` (`tipo_vehiculo` ASC),
  INDEX `fk_vehiculo_cliente_idx` (`cliente` ASC),
  PRIMARY KEY (`cod_vehiculo`),
  CONSTRAINT `fk_vehiculo_ciudad`
    FOREIGN KEY (`ciudad_vehiculo`)
    REFERENCES `SysAutos`.`tb_ciudad` (`idCiudad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_vehiculo_marca`
    FOREIGN KEY (`marca_vehiculo`)
    REFERENCES `SysAutos`.`tb_marca` (`idMarca`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_vehiculo_color`
    FOREIGN KEY (`color_vehiculo`)
    REFERENCES `SysAutos`.`tb_color` (`idColor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_vehiculo_tipo`
    FOREIGN KEY (`tipo_vehiculo`)
    REFERENCES `SysAutos`.`tb_tipo` (`idTipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_vehiculo_cliente`
    FOREIGN KEY (`cliente`)
    REFERENCES `SysAutos`.`tb_cliente` (`id_cliente`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION) AUTO_INCREMENT=60001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tb_mecanico`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_mecanico` (
  `idMecanico` INT NOT NULL AUTO_INCREMENT,
  `tip_doc_mecanico` VARCHAR(100) NOT NULL,
  `num_doc_mecanico` VARCHAR(30) NOT NULL,
  `nom_mecanico` VARCHAR(50) NOT NULL,
  `ape_mecanico` VARCHAR(50) NOT NULL,
  `sexo_mecanico` VARCHAR(50) NOT NULL,
  `estado_mecanico` VARCHAR(10) NOT NULL,
  `ciudad_mecanico` INT NOT NULL,
  `fec_act` DATETIME NOT NULL,
  `obs_mecanico` VARCHAR(255) NULL,
  INDEX `fk_ciudad_mecanico_idx` (`ciudad_mecanico` ASC),
  PRIMARY KEY (`idMecanico`),
  CONSTRAINT `fk_ciudad_mecanico`
    FOREIGN KEY (`ciudad_mecanico`)
    REFERENCES `SysAutos`.`tb_ciudad` (`idCiudad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION) AUTO_INCREMENT=80001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tb_orden_trabajo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_orden_trabajo` (
  `idOrden` INT NOT NULL AUTO_INCREMENT,
  `fec_orden` DATETIME NOT NULL,
  `id_cliente` INT NOT NULL,
  `id_mecanico` INT NOT NULL,
  `cod_vehiculo` INT NOT NULL,
  `valor_orden` DECIMAL(18,2) NOT NULL,
  `estado_orden` VARCHAR(10) NOT NULL,
  `detalle_orden` VARCHAR(255) NOT NULL,
  `obs_orden` VARCHAR(255) NULL,
  PRIMARY KEY (`idOrden`),
  INDEX `fk_orden_mecanico_idx` (`id_mecanico` ASC),
  INDEX `fk_orden_vehiculo_idx` (`cod_vehiculo` ASC),
  CONSTRAINT `fk_orden_mecanico`
    FOREIGN KEY (`id_mecanico`)
    REFERENCES `SysAutos`.`tb_mecanico` (`idMecanico`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_orden_vehiculo`
    FOREIGN KEY (`cod_vehiculo`)
    REFERENCES `SysAutos`.`tb_vehiculo` (`cod_vehiculo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION) AUTO_INCREMENT=90001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tbl_repuestos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tbl_repuestos` (
  `idRepuestos` INT NOT NULL AUTO_INCREMENT,
  `cod_repu` VARCHAR(20) NOT NULL,
  `tipo_repu` VARCHAR(45) NOT NULL,
  `nom_repu` VARCHAR(45) NOT NULL,
  `desc_repu` VARCHAR(45) NULL,
  `cant_repu` INT NOT NULL,
  `fec_act` DATETIME NOT NULL,
  `obs_repu` VARCHAR(255) NULL,
  PRIMARY KEY (`idRepuestos`)) AUTO_INCREMENT=70001
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tbl_orden_respuesto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tbl_orden_respuesto` (
  `idOrdenRespuesto` INT NOT NULL AUTO_INCREMENT,
  `ordenTrabajo` INT NULL,
  `repuesto` INT NULL,
  `cantidad` INT NULL,
  PRIMARY KEY (`idOrdenRespuesto`),
  INDEX `fk_orden_repuesto_idx` (`ordenTrabajo` ASC),
  INDEX `fk_repuesto_orden_idx` (`repuesto` ASC),
  CONSTRAINT `fk_orden_repuesto`
    FOREIGN KEY (`ordenTrabajo`)
    REFERENCES `SysAutos`.`tb_orden_trabajo` (`idOrden`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_repuesto_orden`
    FOREIGN KEY (`repuesto`)
    REFERENCES `SysAutos`.`tbl_repuestos` (`idRepuestos`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION) AUTO_INCREMENT=201
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SysAutos`.`tb_tipo_doc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SysAutos`.`tb_tipo_doc` (
  `idTipoDoc` INT NOT NULL AUTO_INCREMENT,
  `tipo_doc` VARCHAR(20) NOT NULL,
  `desc_tipodoc` VARCHAR(100) NOT NULL,
  `estado_tipodoc` VARCHAR(10) NOT NULL,
  `fec_act` DATETIME NOT NULL,
  `obs_tipodoc` VARCHAR(255) NULL,
  PRIMARY KEY (`idTipoDoc`)) AUTO_INCREMENT=101
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;





